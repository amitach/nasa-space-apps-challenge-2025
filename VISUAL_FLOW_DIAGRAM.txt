🚀 ISS EXPLORER - VISUAL SYSTEM FLOW
=====================================

┌─────────────────────────────────────────────────────────────────────────────────┐
│                                USER INTERFACE                                   │
│                           (Next.js Frontend - Port 3001)                       │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐                │
│  │   Video Chat    │  │   Image Display │  │   Status Panel  │                │
│  │   (Daily.co)    │  │   (Slideshow)   │  │   (SSE/Tavus)   │                │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘                │
└─────────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    │ User clicks "Start Conversation"
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              TAVUS AI INTEGRATION                              │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐                │
│  │  Create Conv.   │  │  Configure      │  │  Tool Calling   │                │
│  │  (persona_id,   │  │  Tools          │  │  (fetch_images) │                │
│  │   replica_id)   │  │  (webhook)      │  │                 │                │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘                │
└─────────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    │ Tool call webhook
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                            SSE SERVER (Port 5002)                              │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐                │
│  │  Webhook        │  │  Process Tool   │  │  Send SSE       │                │
│  │  Handler        │  │  Call           │  │  Events         │                │
│  │  /tavus-webhook │  │  (search API)   │  │  (real-time)    │                │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘                │
└─────────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    │ Search request
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                            RAG API (Port 5001)                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐                │
│  │  Search Engine  │  │  FAISS Vector   │  │  Return Top K   │                │
│  │  (40 ISS Images)│  │  Search         │  │  Similar Images │                │
│  │  + Embeddings   │  │  (SentenceTrans)│  │  (JSON)         │                │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘                │
└─────────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    │ Images data
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              REAL-TIME DISPLAY                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐                │
│  │  SSE Connection │  │  Image          │  │  Auto-advance   │                │
│  │  (EventSource)  │  │  Slideshow      │  │  (5 seconds)    │                │
│  │  + Event Types  │  │  + Navigation   │  │  + Manual Nav   │                │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘                │
└─────────────────────────────────────────────────────────────────────────────────┘

📊 DATA FLOW SEQUENCE:
=====================

1. 🚀 INITIALIZATION
   User → Browser → Frontend loads → SSE connects → APIs ready

2. 🎬 CONVERSATION START  
   User clicks "Start" → Tavus API → Daily.co room → Tools configured

3. 💬 USER INTERACTION
   User asks question → Tavus processes → Decides to use tool

4. 🔧 TOOL EXECUTION
   Tavus → Webhook → SSE Server → RAG API → Vector search → Images

5. 📡 REAL-TIME UPDATE
   SSE Server → Frontend → Image display → Slideshow starts

6. 🔄 CONTINUOUS FLOW
   More questions → More tool calls → More images → Real-time updates

7. 🛑 CONVERSATION END
   User clicks "End" → Cleanup → Images cleared → Ready for new session

🔍 KEY COMPONENTS:
=================

• Frontend (Next.js): UI, SSE client, Tavus integration
• RAG API (Flask): Vector search with FAISS + SentenceTransformer  
• SSE Server (Flask): Real-time communication + webhook handling
• Tavus AI: Conversation management + tool calling
• Daily.co: Video chat infrastructure
• NASA Images: 40 curated ISS images with metadata

🎯 SUCCESS INDICATORS:
=====================

✅ All services running (3 terminals)
✅ SSE: Connected (green)
✅ Tavus: Connected (green)  
✅ Images: Count > 0 (blue)
✅ Real-time image updates
✅ Clean state management
